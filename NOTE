see https://www.linux.org.ru/forum/development/13400222 to understand -Wdisabled-macro-expansion warning
